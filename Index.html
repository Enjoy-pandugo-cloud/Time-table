<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AI & ML V Semester Timetable</title>
    <script>
        (function() {
            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            if (isMobile) {
                document.addEventListener('DOMContentLoaded', function() {
                    document.body.innerHTML = `
                        <div style="
                            font-family: Arial, sans-serif;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            min-height: 100vh;
                            margin: 0;
                            background-color: #f0f8ff;
                            text-align: center;
                            padding: 20px;
                        ">
                            <div style="
                                max-width: 600px;
                                padding: 30px;
                                background-color: white;
                                border-radius: 10px;
                                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                            ">
                                <div style="
                                    font-size: 60px;
                                    margin-bottom: 20px;
                                ">💻</div>
                                <h1 style="color: #34495e;">Desktop Only Access</h1>
                                <p style="
                                    font-size: 18px;
                                    line-height: 1.6;
                                    color: #555;
                                ">This AI & ML Timetable application is optimized for desktop viewing experience only.</p>
                                <p style="
                                    font-size: 18px;
                                    line-height: 1.6;
                                    color: #555;
                                ">Please access this page from a desktop or laptop computer for the best experience and full functionality.</p>
                            </div>
                        </div>
                    `;
                    
                    window.addEventListener('error', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        return true;
                    }, true);
                    
                    document.querySelectorAll('script').forEach(function(script) {
                        if (script !== document.currentScript) {
                            script.parentNode.removeChild(script);
                        }
                    });
                });
                
                document.write('<style>body > *:not(script) { display: none; }</style>');
            }
        })();
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f8ff;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode {
            background-color: #0a0a0a;
            color: #ffffff;
        }

        #theme-toggle-wrapper {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
        }

        .theme-icon {
            font-size: 20px;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: 0.4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: 0.4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .container {
            width: 95%;
            margin: 0 auto;
            text-align: center;
            padding: 20px 0;
            background-color: #34495e;
            color: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        body.dark-mode .container {
            background-color: #1a1f2c;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }
        
        h1 {
            margin: 0;
            font-size: 2.2em;
        }
        
        #dateTime {
            font-size: 1.5em;
            margin-top: 10px;
        }
        
        table {
            width: 95%;
            margin: 20px auto;
            border-collapse: separate;
            border-spacing: 0;
            border: 1px solid #444;
            background-color: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: background-color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        }
        
        body.dark-mode table {
            background-color: #1a1a1a;
            border-color: #404040;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }
        
        th, td {
            padding: 9px;
            text-align: center;
            border: 1px solid #444;
            font-size: 1em;
            transition: border-color 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode th, body.dark-mode td {
            border-color: #404040;
        }
        
        .heading {
            background-color: #3c8dbc;
            color: white;
            font-size: 1.8em;
            font-weight: bold;
            text-transform: uppercase;
            text-align: center;
            vertical-align: middle;
            height: 60px;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode .heading {
            background-color: #234567;
        }
        
        th {
            background-color: #3c8dbc;
            color: white;
            text-transform: uppercase;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode th {
            background-color: #234567;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode tr:nth-child(even) {
            background-color: #252525;
        }
        
        body.dark-mode tr:nth-child(odd):not(:first-child) {
            background-color: #1e1e1e;
        }
        
        .lunch {
            background: #FFD700;
            color: #8B0000;
            font-weight: bold;
            font-size: 1.8em;
            letter-spacing: 2px;
            border: none;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .lunch {
            background: #c9b037;
            color: #6d0000;
        }
        
        .lunchhighlight {
            background: linear-gradient(90deg, yellow, orange, red);
            color: #8B0000;
            font-weight: bold;
            font-size: 1.8em;
            letter-spacing: 2px;
            border: none;
        }
        
        body.dark-mode .lunchhighlight {
            background: linear-gradient(90deg, #cacc5d, #c97c36, #b33939);
            color: #ffffff;
        }
        
        .break-text {
            color: #8B0000;
            font-weight: bold;
            font-size: 1em;
            border-top: none;
            border-left: none;
            border-right: none;
            transition: color 0.3s ease;
        }
        
        body.dark-mode .break-text {
            color: #ff6b6b;
        }
        
        .lab {
            background-color: #b3e0ff;
            color: #034f84;
            font-weight: bold;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .lab {
            background-color: #1a3a4a;
            color: #8ccfff;
        }
        
        .skill {
            background-color: #d6f5d6;
            color: #2e8b57;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .skill {
            background-color: #1a3d1a;
            color: #90ee90;
        }
        
        .ims {
            background-color: #ffb3ba;
            color: #8b0000;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .ims {
            background-color: #4a1a1a;
            color: #ffb3b3;
        }
        
        .ime {
            background-color: #ffdd99;
            color: #a0522d;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .ime {
            background-color: #4a3a1a;
            color: #ffd700;
        }
        
        .ml {
            background-color: #c2f0fc;
            color: #007399;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .ml {
            background-color: #1a3a4a;
            color: #87ceeb;
        }
        
        .iot {
            background-color: #c1e1c5;
            color: #2c5d63;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .iot {
            background-color: #2a3a2a;
            color: #98fb98;
        }
        
        .ip {
            background-color: #ffd9b3;
            color: #804000;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        body.dark-mode .ip {
            background-color: #4a2a1a;
            color: #ffa07a;
        }
        
        .lecturers {
            margin-top: 20px;
            font-size: 1em;
            border-collapse: separate;
            border-spacing: 0;
            border: 1px solid #444;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease, border-color 0.3s ease;
        }
        
        body.dark-mode .lecturers {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            border-color: #555;
        }
        
        .lecturers th {
            background-color: #2c3e50;
            color: white;
            font-weight: bold;
            border: none;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode .lecturers th {
            background-color: #1a2530;
        }
        
        .lecturers td {
            border: 1px solid #ccc;
            transition: border-color 0.3s ease;
        }
        
        body.dark-mode .lecturers td {
            border-color: #444;
        }
        
        .highlight {
            background-color: #ff5733 !important;
            color: white !important;
            animation: glow 1s infinite alternate;
        }
        
        body.dark-mode .highlight {
            background-color: #b33d23 !important;
        }
        
        .lecturer-highlight {
            background-color: #ffda79 !important;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode .lecturer-highlight {
            background-color: #8c7830 !important;
        }
        
        .enjoy-highlight {
            background-color: #ffda79 !important;
            animation: glow 1s infinite alternate;
            transition: background-color 0.3s ease;
        }
        
        body.dark-mode .enjoy-highlight {
            background-color: #8c7830 !important;
        }
        
        @keyframes glow {
            from {
                box-shadow: 0 0 10px #ff5733;
            }
            to {
                box-shadow: 0 0 20px #ff5733;
            }
        }
        
        body.dark-mode @keyframes glow {
            from {
                box-shadow: 0 0 10px #b33d23;
            }
            to {
                box-shadow: 0 0 20px #b33d23;
            }
        }
        
        .hide-on-mobile {
            display: block;
        }
        
        @media (max-width: 768px) {
            .hide-on-mobile {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div id="theme-toggle-wrapper">
        <span class="theme-icon">☀️</span>
        <label class="switch">
            <input type="checkbox" id="theme-toggle">
            <span class="slider"></span>
        </label>
        <span class="theme-icon">🌙</span>
    </div>
    
    <div class="hide-on-mobile">
        <div class="container">
            <h1>AI & ML V Semester Timetable</h1>
            <p id="dateTime"></p>
        </div>
        
        <table>
            <tr>
                <td class="heading" colspan="10">AI & ML V Semester Timetable</td>
            </tr>
            
            <tr>
                <th>Day</th>
                <th>9:30-10:15</th>
                <th>10:15-11:00</th>
                <th>11:00-11:45</th>
                <th>11:45-12:30</th>
                <th>12:30-1:15</th>
                <th>1:15-1:45</th>
                <th>1:45-2:30</th>
                <th>2:30-3:15</th>
                <th>3:15-4:00</th>
            </tr>
            
            <tr>
                <td>Monday</td>
                <td class="ims mclass1 mclass2" colspan="2" title="AI-585">Information Security (KP)</td>
                <td class="ip mclass3 mclass4" colspan="2">Image Processing (MN)</td>
                <td class="iot mclass5">Internet of Things (AVC)</td>
                <td class="lunch">L</td>
                <td class="ime mclass6 mclass7" colspan="2">Industrial Management &Entrepreneurship (YSK)</td>
                <td class="skill mclass8">Skill Upgradation (YSK)</td>
            </tr>
            
            <tr>
                <td>Tuesday</td>
                <td class="iot tuclass1 tuclass2" colspan="2">Internet of Things (AVC)</td>
                <td class="lab tuclass3 tuclass4 tuclass5" colspan="3">System Administration Lab (YSK)</td>             
                <td class="lunch">U</td>
                <td class="ims tuclass6 tuclass7" colspan="2">Information Security (KP)</td>
                <td class="skill tuclass8">Skill Upgradation (KP)</td>
            </tr>
            
            <tr>
                <td>Wednesday</td>
                <td class="ml wclass1 wclass2" colspan="2">Machine Learning (AB)</td>
                <td class="iot wclass3 wclass4" colspan="2">Internet of Things (AVC)</td>
                <td class="ims wclass5" colspan="1">Imformation Security (KP)</td>
                <td class="lunch">N</td>
                <td class="lab wclass8 wclass6 wclass7" colspan="3">Image Processing Lab (MN)</td>
            </tr>
            
            <tr>
                <td>Thursday</td>
                <td class="ip thclass1 thclass2" colspan="2">Image Processing (MN)</td>
                <td class="lab thclass3 thclass4 thclass5" colspan="3">Machine Learning Lab (AB)</td>
                <td class="lunch">C</td>
                <td class="ime thclass6">Industrial Management & Entreprenuership (YSK)</td>
                <td class="skill thclass7 thclass8" colspan="2">Skill Upgradation (AVC)</td>
            </tr>
            
            <tr>
                <td>Friday</td>
                <td class="ime fclass1 fclass2" colspan="2">Industrial Management & Entreprenuership (YSK)</td>
                <td class="ml fclass3 fclass4" colspan="2">Machine Learning (ML)</td>
                <td class="skill fclass5">Skill Upgradation (KP)</td>
                <td class="lunch">H</td>
                <td class="lab fclass6 fclass7 fclass8" colspan="3">Internet of Things Lab (LR)</td>
            </tr>
            
            <tr>
                <td>Saturday</td>
                <td class="ip sclass1">Image Processing (MN)</td>
                <td class="skill sclass2">Skill Upgradation (MN)</td>
                <td class="lab sclass3 sclass4 sclass5" colspan="3">Project Work (ALL)</td>
                <td class="lunch break-text">BREAK</td>
                <td class="ml sclass6" colspan="1">Machine Learning (AB)</td>
                <td class="skill thclass7">Skill Upgradation (AB)</td>
                <td class="skill thclass8">Skill Upgradation (YSK)</td> 
            </tr>
        </table>
        
        <table class="lecturers">
            <tr>
                <th>Abbreviation</th>
                <th>Name</th>
            </tr>
            <tr class="AB">
                <td>AB</td>
                <td>ASHEERA BEGUM</td>
            </tr>
            <tr class="ALL">
                <td>ALL</td>
                <td>ALL EC&AIML DEPARTMENT STAFF</td>
            </tr>
            <tr class="AVC">
                <td>AVC</td>
                <td>A VIKRAM CHAKRAVORTHY</td>
            </tr>
            <tr class="KP">
                <td>KP</td>
                <td>K PRAMIL</td>
            </tr>
            <tr class="MN">
                <td>MN</td>
                <td>M NARENDER</td>
            </tr>
            <tr class="YSK">
                <td>YSK</td>
                <td>Y SAI KUMAR</td>
            </tr>
            <tr class="enjoy">
                <td>ENJOY</td>
                <td>Enjoy Pandugo!</td>
            </tr>
        </table>
    </div>
    
    <script>
        (function() {
            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            if (isMobile) {
                document.querySelector('.hide-on-mobile').style.display = 'none';
                
                if (!document.querySelector('.mobile-message')) {
                    const mobileMessage = document.createElement('div');
                    mobileMessage.className = 'mobile-message';
                    mobileMessage.innerHTML = `
                        <div style="
                            font-family: Arial, sans-serif;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            min-height: 100vh;
                            margin: 0;
                            background-color: #f0f8ff;
                            text-align: center;
                            padding: 20px;
                        ">
                            <div style="
                                max-width: 600px;
                                padding: 30px;
                                background-color: white;
                                border-radius: 10px;
                                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                            ">
                                <div style="font-size: 60px; margin-bottom: 20px;">💻</div>
                                <h1 style="color: #34495e;">Desktop Only Access</h1>
                                <p style="font-size: 18px; line-height: 1.6; color: #555;">
                                    This AI & ML Timetable application is optimized for desktop viewing experience only.
                                </p>
                                <p style="font-size: 18px; line-height: 1.6; color: #555;">
                                    Please access this page from a desktop or laptop computer for the best experience and full functionality.
                                </p>
                            </div>
                        </div>
                    `;
                    document.body.appendChild(mobileMessage);
                }
                return;
            }
            
            function showDateTime() {
                const now = new Date();
                const day = String(now.getDate()).padStart(2, '0');
                const month = String(now.getMonth() + 1).padStart(2, '0');
                const year = now.getFullYear();
                const date = `${day}/${month}/${year}`;
                const weekday = now.toLocaleString('en-US', { weekday: 'long' });
                let hours = now.getHours();
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                const ampm = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12 || 12;
                const time = `${hours}:${minutes}:${seconds} ${ampm}`;
                
                const dateTimeElement = document.getElementById('dateTime');
                if (dateTimeElement) {
                    dateTimeElement.innerHTML = `<strong>Date:</strong> ${date} &nbsp; | &nbsp; 
                                                <strong>Day:</strong> ${weekday} &nbsp; | &nbsp; 
                                                <strong>Time:</strong> ${time}`;
                }
            }
            
            showDateTime();
            setInterval(showDateTime, 1000);
            
            function highlightCurrentPeriod() {
                const date = new Date();
                const current = date.getHours() * 60 + date.getMinutes();
                const day = date.getDay();
                
                const timeperiod = [
                    { start: 9 * 60 + 30, end: 10 * 15, class: 1 },
                    { start: 10 * 60 + 15, end: 11 * 60, class: 2 },
                    { start: 11 * 60, end: 11 * 60 + 45, class: 3 },
                    { start: 11 * 60 + 45, end: 12 * 60 + 30, class: 4 },
                    { start: 12 * 60 + 30, end: 13 * 60 + 15, class: 5 },
                    { start: 13 * 60 + 15, end: 13 * 60 + 45, class: "lunch" },
                    { start: 13 * 60 + 45, end: 14 * 60 + 30, class: 6 },
                    { start: 14 * 60 + 30, end: 15 * 60 + 15, class: 7 },
                    { start: 15 * 60 + 15, end: 16 * 60, class: 8 }
                ];
                
                document.querySelectorAll('td').forEach(td => td.classList.remove('highlight'));
                document.querySelectorAll('.lecturers tr').forEach(tr => tr.classList.remove('lecturer-highlight'));
                document.querySelectorAll('.lecturers .enjoy').forEach(tr => tr.classList.remove('enjoy-highlight'));
                
                if (day >= 1 && day <= 6) {
                    let prefix;
                    switch (day) {
                        case 1: prefix = "mclass"; break;
                        case 2: prefix = "tuclass"; break;
                        case 3: prefix = "wclass"; break;
                        case 4: prefix = "thclass"; break;
                        case 5: prefix = "fclass"; break;
                        case 6: prefix = "sclass"; break;
                    }
                    
                    if (prefix) {
                        for (let i = 0; i < timeperiod.length; i++) {
                            const slot = timeperiod[i];
                            if (current >= slot.start && current < slot.end) {
                                if (slot.class == "lunch") {
                                    document.querySelectorAll('.lunch').forEach(el => el.classList.add('lunchhighlight'));
                                    document.querySelectorAll('.lecturers .enjoy').forEach(el => el.classList.add('enjoy-highlight'));
                                } else {
                                    const currentClass = document.querySelectorAll(`.${prefix}${slot.class}`);
                                    currentClass.forEach(cell => cell.classList.add('highlight'));
                                    
                                    let lecturerCode = '';
                                    currentClass.forEach(cell => {
                                        const match = cell.textContent.match(/\(([^)]+)\)/);
                                        if (match && match[1]) {
                                            lecturerCode = match[1];
                                        }
                                    });
                                    
                                    if (lecturerCode) {
                                        document.querySelectorAll(`.lecturers .${lecturerCode}`).forEach(row => {
                                            row.classList.add('lecturer-highlight');
                                        });
                                    }
                                }
                                break;
                            }
                        }
                    }
                }
            }
            
            highlightCurrentPeriod();
            setInterval(highlightCurrentPeriod, 60000);
            
            document.getElementById('theme-toggle').addEventListener('change', function() {
                const body = document.body;
                body.classList.toggle('dark-mode');
                localStorage.setItem('theme', body.classList.contains('dark-mode') ? 'dark' : 'light');
            });
            
            document.addEventListener('DOMContentLoaded', function() {
                const savedTheme = localStorage.getItem('theme');
                const themeToggle = document.getElementById('theme-toggle');
                
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    themeToggle.checked = true;
                }
            });
        })();
    </script>
</body>
</html>